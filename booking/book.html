<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Appointment â€“ Termin</title>

  <!-- ICONS -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

  <link rel="stylesheet" href="../assets/css/reset.css">
  <link rel="stylesheet" href="../assets/css/variables.css">
  <link rel="stylesheet" href="../assets/css/base.css">
  <link rel="stylesheet" href="../assets/css/components.css">
  <link rel="stylesheet" href="../assets/css/booking.css">
</head>

<body>

  <div class="booking-container">
    <!-- SIDEBAR -->
    <div class="booking-sidebar">
      <div class="logo">
        <img src="../assets/images/logo.png" alt="Termin">
      </div>

      <div class="booking-summary">
        <h2>Booking Details</h2>
        <div class="summary-item" id="summaryService">
          <i class="ri-briefcase-line"></i>
          <span>Select a service...</span>
        </div>
        <div class="summary-item" id="summaryDate">
          <i class="ri-calendar-line"></i>
          <span>Select a date...</span>
        </div>
        <div class="summary-item" id="summaryTime">
          <i class="ri-time-line"></i>
          <span>Select a time...</span>
        </div>
        <div class="summary-item" id="summaryPlatform">
          <i class="ri-video-chat-line"></i>
          <span>Select platform...</span>
        </div>
      </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="booking-main">

      <!-- STEP 1: SERVICE -->
      <div class="step-content active" id="step1">
        <h1>Select Service</h1>
        <p class="subtitle">Choose the type of appointment you need.</p>

        <div class="selection-grid" id="serviceGrid">
          <!-- Injected via JS -->
        </div>

        <div class="form-actions">
          <button class="primary-btn" onclick="nextStep(2)" id="btnStep1" disabled>Next <i
              class="ri-arrow-right-line"></i></button>
        </div>
      </div>

      <!-- STEP 2: PLATFORM -->
      <div class="step-content" id="step2">
        <h1>Select Platform</h1>
        <p class="subtitle">Where would you like to meet?</p>

        <div class="selection-grid" id="platformGrid">
          <div class="selection-card" onclick="selectPlatform('Google Meet', this)">
            <i class="ri-google-fill"></i>
            <h3>Google Meet</h3>
          </div>
          <div class="selection-card" onclick="selectPlatform('Zoom', this)">
            <i class="ri-video-chat-fill"></i>
            <h3>Zoom</h3>
          </div>
          <div class="selection-card" onclick="selectPlatform('Microsoft Teams', this)">
            <i class="ri-microsoft-fill"></i>
            <h3>Microsoft Teams</h3>
          </div>
          <div class="selection-card" onclick="selectPlatform('Phone Call', this)">
            <i class="ri-phone-line"></i>
            <h3>Phone Call</h3>
          </div>
        </div>

        <div class="form-actions">
          <button class="secondary-btn" onclick="prevStep(1)">Back</button>
          <button class="primary-btn" onclick="nextStep(3)" id="btnStep2" disabled>Next <i
              class="ri-arrow-right-line"></i></button>
        </div>
      </div>

      <!-- STEP 3: DATE & TIME -->
      <div class="step-content" id="step3">
        <h1>Select Date & Time</h1>
        <p class="subtitle">Pick a slot that works for you.</p>

        <div class="date-time-container">
          <div class="calendar-wrapper">
            <input type="date" id="datePicker" class="full-width" />
          </div>
          <div class="slots-wrapper" id="slotsContainer">
            <p style="text-align: center; color: #999; margin-top: 2rem;">Select a date to see available times.</p>
          </div>
        </div>

        <div class="form-actions">
          <button class="secondary-btn" onclick="prevStep(2)">Back</button>
          <button class="primary-btn" onclick="nextStep(4)" id="btnStep3" disabled>Next <i
              class="ri-arrow-right-line"></i></button>
        </div>
      </div>

      <!-- STEP 4: DETAILS -->
      <div class="step-content" id="step4">
        <h1>Your Details</h1>
        <p class="subtitle">Tell us a bit about yourself.</p>

        <form id="bookingForm">
          <div class="form-group">
            <label>Full Name</label>
            <input type="text" id="customerName" required placeholder="John Doe">
          </div>
          <div class="form-group">
            <label>Email Address</label>
            <input type="email" id="customerEmail" required placeholder="john@example.com">
          </div>
          <div class="form-group">
            <label>Notes (Optional)</label>
            <textarea id="customerNotes" rows="3"></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="secondary-btn" onclick="prevStep(3)">Back</button>
            <button type="submit" class="primary-btn">Confirm Booking</button>
          </div>
        </form>
      </div>

      <!-- LOADING / SUCCESS -->
      <div class="step-content" id="stepSuccess">
        <div style="text-align: center; padding: 3rem;">
          <i class="ri-checkbox-circle-fill" style="font-size: 4rem; color: var(--success);"></i>
          <h1>Booking Confirmed!</h1>
          <p class="subtitle">Check your email for the invitation.</p>
          <a href="../index.html" class="primary-btn">Return Home</a>
        </div>
      </div>

    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    (function () {
      emailjs.init("0z5BqqQT41NZmLiHj");
    })();
  </script>

  <script type="module" src="../assets/js/firebase.js"></script>
  <script type="module" src="../assets/js/booking.js"></script>
</body>

</html>